<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SJSGD Mapping-Matters - Scroll Locked Modules</title>
  <style>
    @font-face {
      font-family: 'YoungSerif';
      src: url('Fonts/YoungSerif-Regular.otf') format('opentype');
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body { height: 100%; font-family: 'YoungSerif', serif; background: #fff; overflow: hidden; }
    main {
      height: 100vh; overflow-y: scroll;
      scroll-snap-type: y mandatory; scroll-behavior: smooth;
      -ms-overflow-style: none; scrollbar-width: none;
    }
    main::-webkit-scrollbar { display: none; }

    .section-title-wrapper {
      position: fixed; top: 0; left: 0; width: 100%;
      background: #fff; z-index: 100; padding: 2.5% 0;
      border-bottom: 3px solid #1d252d;
    }
    .section-title-inner {
      position: relative;
      max-width: 1600px; margin: 0 auto; padding: 0 1.56%;
    }
    .section-title {
      position: relative;
      font-size: 2.5rem; font-weight: bold; color: #1d252d;
    }
    .section-title:hover {
      font-weight: bold;
      font-style: italic;
    }
    .section-title:hover::before {
      content: "←Index";
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      font-style: italic;
    }
    .section-title::before {
      content: "Studios";
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
    }

    .scroll-indicators {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      display: flex; gap: 8px;
    }
    .scroll-indicator {
      cursor: pointer; font-size: 2.5rem; color: #1d252d;
      transition: transform .2s ease;
      user-select: none;
    }
    .scroll-indicator:hover { transform: scale(1.15); }

    @media (max-width: 768px) {
      .section-title-wrapper { padding: 20px 0; }
      .section-title-inner { padding: 0 20px; }
      .scroll-indicator { font-size: 1.5rem; }
      .content-module { padding: 120px 20px 120px; }
    }

    .content-module {
      height: 100vh; scroll-snap-align: start; padding: 160px 0 160px;
      margin-top: 120px; /* Adjust to avoid overlap with the fixed header */
    }
    .content-wrapper {
      display: grid; grid-template-columns: 55fr 45fr; gap: 1.56%;
      height: calc(100vh - 320px);
      max-width: 1600px; margin: 0 auto; padding: 0 1.56%;
    }
    .image-container { background: #f0f0f0; overflow: hidden; }
    .content-image { width: 100%; height: 100%; object-fit: cover; }
    .text-content { display: flex; flex-direction: column; gap: 20px; }
    .column-heading { font-size: 1.5rem; font-weight: 600; color: #1d252d; }
    .column-body {
      font-size: 1rem; line-height: 1.5; color: #1d252d;
      overflow-y: auto; -ms-overflow-style: none; scrollbar-width: none;
    }
    .column-body::-webkit-scrollbar { display: none; }
  </style>
</head>
<body>

  <div class="section-title-wrapper">
    <div class="section-title-inner">
      <a href="index.html" class="section-title" data-default="Studios" data-hover="Index"></a>
      <div class="scroll-indicators" id="scrollIndicators"></div>
    </div>
  </div>

  <main id="mainContainer"></main>

<script>
const modules = [
{ title: "The Office of Ordinary Things", column: 1, image: "images/TOOT Mon Wide.jpg", description: "The Office of Ordinary Things is a San Francisco-based design studio focused on climate, sustainability, and social good. They work exclusively with organisations that benefit both the planet and society. Their designs are playful and unexpected, challenging clichés and sparking reflection. Committed to sustainability, they aim to reshape the industry while fostering vibrant, inclusive spaces where designers can collaborate and drive meaningful change." },
      { title: "Leap", column: 1, image: "images/LEAP Mon Wide.jpg", description: "A pioneering force in sustainability from its very beginning, Leap creates design solutions that seamlessly integrate business objectives with the well-being of the planet. Their work extends beyond the completion of projects, as they actively disseminate knowledge on a global scale, shaping sustainable design practices and empowering creatives to drive systemic transformation. Their commitment lies in fostering progressive, collaborative, and considered futures." },
      { title: "Pentagram", column: 1, image: "images/Pentagram Mon Wide.jpg", description: "A renowned multidisciplinary design studio, Pentagram is distinctive for being owned and led by 23 practicing partners. Their diverse portfolio, spanning branding, sound design, and more, reflects a commitment to intellectual rigour and personal dedication. The studio’s unique ownership model ensures a blend of passion, creativity, and close client relationships, enabling the delivery of iconic design solutions for over five decades" },
      { title: "A-Side", column: 1, image: "images/A-Side Mon Wide.jpg", description: "Founded in 2002, A-Side stands at the intersection of art, strategy, and craftsmanship, building dynamic brands and campaigns. Their work strikes a balance between playfulness and discipline, thriving in ambiguity and creating resonant solutions across various sectors. The studio remains grounded in human connection and adaptability, which underpins its creative ethos." },
      { title: "Field", column: 1, image: "images/Field Mon Wide.jpg", description: "Field represents a collaborative studio where human-centric design merges with bold innovation. By bringing together diverse perspectives, Field creates transformative solutions that leverage new technologies and inclusive processes. Their guiding principle is that the most impactful ideas emerge when every voice—whether client, collaborator, or creator—is given due consideration." },
      { title: "The Liminal Space", column: 1, image: "images/The Liminal Space Mon Wide.jpg", description: "A creative consultancy redefining problem-solving through a combination of art, academia, and an eclectic range of expertise. The Liminal Space’s interdisciplinary team, which includes gardeners, scientists, and economists, tackles complex challenges with experimental, narrative-driven approaches, converting intricate problems into groundbreaking solutions." },
      { title: "How & How", column: 1, image: "images/How & How Mon Wide.jpg", description: "A B Corp-certified studio that blends aesthetic beauty with purpose. The team at How & How is committed to creating inspiring work that fosters better futures. Their international collaboration is rooted in ease, camaraderie, and meaningful missions, demonstrating that design can simultaneously be visionary and responsible." },
      { title: "Instruct", column: 1, image: "images/Instruct Mon Wide.jpg", description: "For over 15 years, Instruct has been solving cultural, charitable, and placemaking challenges through a multidisciplinary approach. Specialising in large-scale projects, they combine strategic thinking, creativity, and curiosity to deliver impactful solutions across Europe, forging partnerships with organisations of all sizes." },
      { title: "Order", column: 1, image: "images/Order Mon Wide.jpg", description: "A brand identity studio anchored in research and systems thinking, Order designs practical and lasting visual frameworks that embody an organisation’s values. Their work ensures clarity and longevity for businesses and their audiences. Additionally, their social impact initiative offers accessible brand toolkits for mission-driven organisations, partnering quarterly at reduced fees to empower changemakers through strategic, equitable design." },
      { title: "From Form", column: 1, image: "images/From Form Mon Wide.jpg", description: "A Rotterdam-based duo, From Form crafts cinematic worlds across film, design, and animation. Their passion for analog textures and bold art direction is evident in their diverse work—spanning commercials, photography, and short films. Through playful colour and imperfection, they blur the line between reality and imagination." },
];

const circled = ['\u2460','\u2461','\u2462','\u2463','\u2464','\u2465','\u2466','\u2467','\u2468','\u2789'];
const filled  = ['\u2776','\u2777','\u2778','\u2779','\u277A','\u277B','\u277C','\u277D','\u277E','\u277F'];

const main = document.getElementById('mainContainer');
const scrollIndicators = document.getElementById('scrollIndicators');
let currentIndex = 0, isCycling = false, indicatorSpans = [];

function updateIndicators(idx) {
  indicatorSpans.forEach((el,i)=>el.textContent = i===idx ? filled[i] : circled[i]);
  currentIndex = idx;
}

modules.forEach((mod, i) => {
  const sec = document.createElement('div');
  sec.className = 'content-module';
  sec.innerHTML = `
    <div class="content-wrapper">
      <div class="image-container">
        <img src="${mod.image}" class="content-image" alt="" />
      </div>
      <div class="text-content">
        <h2 class="column-heading">${mod.title}</h2>
        <p class="column-body">${mod.description}</p>
      </div>
    </div>`;
  main.appendChild(sec);

  const dot = document.createElement('span');
  dot.className = 'scroll-indicator';
  dot.textContent = circled[i];
  dot.addEventListener('click',()=> {
    if(isCycling||i===currentIndex) return;
    isCycling=true;
    const step = i>currentIndex?1:-1;
    (function cycle(){
      const next = currentIndex + step;
      main.children[next].scrollIntoView({behavior:'auto'});
      updateIndicators(next);
      if(next!==i) setTimeout(cycle,600);
      else isCycling=false;
    })();
  });
  scrollIndicators.appendChild(dot);
  indicatorSpans.push(dot);
});

// Fix IntersectionObserver
const observer = new IntersectionObserver(entries => {
  entries.forEach(e => {
    if(e.isIntersecting && !isCycling) {
      const idx = [...main.children].indexOf(e.target);
      updateIndicators(idx);
    }
  });
}, { root: main, threshold: 0.5 });

[...main.children].forEach(child => observer.observe(child));

const sectionInner = document.querySelector('.section-title-inner');
const scrollIndicatorsContainer = document.getElementById('scrollIndicators');

function positionIndicators(){
  const firstHeading = document.querySelector('.column-heading');
  if(!firstHeading) return;
  const hRect = firstHeading.getBoundingClientRect();
  const sRect = sectionInner.getBoundingClientRect();
  const leftOffset = hRect.left - sRect.left;
  scrollIndicatorsContainer.style.left = `${leftOffset}px`;
}
window.addEventListener('resize', positionIndicators);
positionIndicators(); 
updateIndicators(0);
</script>

</body>
</html>
